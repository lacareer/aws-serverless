<!-- Usage Plans and Message Throttling -->
To prevent your API from being overwhelmed by too many requests, Amazon API Gateway throttles requests to your API. There are pre-defined steady-state and burst throttling limits set at the account/regional level. As an API owner, you can set the default method throttling to override the account-level request throttling limits for a specific stage or for individual methods in an API. In addition, you can setup usage plans to restrict client request submissions to within specified request rates and quotes.

A usage plan provides access to one or more deployed API stages with configurable throttling and quota limits enforced on individual client API keys. API callers are identified by API keys that can be generated by API Gateway. The throttling prescribes the request rate limits applied to each API key.

In the subsequent sections of the lab, we are going to setup API Keys to track our API Callers. The API keys will then be used to setup usage plans and restrict each client based on their tier level (platinum, gold, silver, etc.).

In this section we will:

- Create a new Usage Plan
- Create a new API Key
- Associate the new API Key with the Usage Plan
- Setup the resource method to require the API Key
- Test API with Usage Plan


<!-- Testing API with Usage Plan -->
Follow lab  doc to complete testing using the command:

***Both command should fail because of the lack of API KEY in header***
$ curl --request POST '[insert your invoke URL here]?region=BR' python -m json.tool


$ curl --request POST '[insert your invoke URL here]?region=BR' --header 'x-api-key: ' | python -m json.tool

***should pass when the correct API Key is passed***
$ curl --request POST '[insert your invoke URL here]?region=BR' --header 'x-api-key: [insert your API Key here]' | python -m json.tool
